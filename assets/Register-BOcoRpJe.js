import{_ as y,f as c,H as x,r as g,c as p,b as e,a as f,w as j,j as k,u as V,l as P,m as u,x as m,t as R,p as I,i as N,o as v,I as S,z,J as C,D as U,A as q,B as A,K as B}from"./index-BbnBNmEC.js";const i=n=>(I("data-v-52cc3a13"),n=n(),N(),n),D={class:"container mt-5"},H={class:"row justify-content-center"},T={class:"col-md-6 col-sm-10"},Z={class:"card shadow-sm"},E={class:"card-body"},F=i(()=>e("h3",{class:"card-title text-center mb-3"},"Zarejestruj się",-1)),L={class:"text-center mb-4"},M=["onSubmit"],J={class:"mb-3"},K=i(()=>e("label",{for:"name",class:"form-label"},"Imię i Nazwisko",-1)),W={class:"mb-3"},$=i(()=>e("label",{for:"email",class:"form-label"},"Adres e-mail",-1)),G={class:"mb-3"},O=i(()=>e("label",{for:"password",class:"form-label"},"Hasło",-1)),Q={class:"mb-3"},X=i(()=>e("label",{for:"confirmPassword",class:"form-label"},"Powtórz hasło",-1)),Y={key:0,class:"text-danger mb-3"},ee=i(()=>e("button",{type:"submit",class:"btn btn-primary w-100"},"Zarejestruj się",-1)),se={__name:"RegistrationForm",setup(n){const o=c(""),l=c(""),r=c(""),d=c(""),a=c(null),h=x(),b=async()=>{if(a.value=null,r.value!==d.value){a.value="Hasła nie są takie same.";return}if(r.value.length<6){a.value="Hasło musi mieć co najmniej 6 znaków.";return}try{const s=(await S(z,l.value,r.value)).user;await C(s,{displayName:o.value}),await U(q(A,"users",s.uid),{name:o.value,email:l.value,role:"user",createdAt:B()}),o.value="",l.value="",r.value="",d.value="",a.value=null,h.push("/")}catch(_){a.value=_.message}};return(_,s)=>{const w=g("RouterLink");return v(),p("div",D,[e("div",H,[e("div",T,[e("div",Z,[e("div",E,[F,e("p",L,[f(w,{to:"/login",class:"small"},{default:j(()=>[k("Posiadasz już konto? Zaloguj się")]),_:1})]),e("form",{onSubmit:V(b,["prevent"]),novalidate:""},[e("div",J,[K,u(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>o.value=t),type:"text",class:"form-control",id:"name",required:""},null,512),[[m,o.value]])]),e("div",W,[$,u(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>l.value=t),type:"email",class:"form-control",id:"email",required:""},null,512),[[m,l.value]])]),e("div",G,[O,u(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>r.value=t),type:"password",class:"form-control",id:"password",required:""},null,512),[[m,r.value]])]),e("div",Q,[X,u(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>d.value=t),type:"password",class:"form-control",id:"confirmPassword",required:""},null,512),[[m,d.value]])]),a.value?(v(),p("div",Y,R(a.value),1)):P("",!0),ee],40,M)])])])])])}}},ae=y(se,[["__scopeId","data-v-52cc3a13"]]),oe={__name:"Register",setup(n){return(o,l)=>(v(),p("div",null,[f(ae)]))}};export{oe as default};
